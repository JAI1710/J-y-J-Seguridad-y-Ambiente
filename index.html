<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Artículos - J y J Seguridad y Ambiente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <style>
        body {
            padding-top: 8.5rem; /* espacio para el navbar fijo */
        }

        .custom-navbar {
            background-color: #0D5C97;    /* azul */
        }

        .custom-navbar .nav-link,
        .custom-navbar .navbar-brand,
        .custom-navbar .navbar-text {
            color: #FFFFFF !important;
        }

        .custom-navbar .nav-link:hover {
            color: #4CAF50 !important;    /* verde del logo */
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-sm navbar-toggleable-sm fixed-top custom-navbar">
        <div class="container">
            <!-- RUTA DEL LOGO: /JyJ/imagenes/... -->
            <img src="/JyJ/imagenes/logoTrans.png" alt="Logo" width="100" height="100"
                class="d-inline-block align-top me-2">

            <h1 class="navbar-brand mb-0 text-light">Seguridad y Ambiente</h1>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-sm-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/JyJ/">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/JyJ/articulos/index.html">Artículos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/JyJ/practicas/index.html">Prácticas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/JyJ/videos/index.html">Videos</a>
                    </li>
                </ul>
                <span class="navbar-text text-light">
                    Difusión de la ciencia, seguridad y ambiente
                </span>
            </div>
        </div>
    </nav>    <div class="container py-4">
        <h1 class="mb-3">Artículos disponibles</h1>

        <div id="lista-articulos" class="row gy-3">
            <!-- Aquí se insertan las tarjetas -->
        </div>

        <hr class="my-4" />
        <a href="../index.html" class="btn btn-outline-secondary">Volver al inicio</a>
    </div>

    <script>
        // Lee el CSV ubicado en la misma carpeta: articulos/articulos.csv
        fetch("articulos.csv")
            .then(r => r.text())
            .then(texto => {
                const lineas = texto.split("\n").map(l => l.trim()).filter(l => l !== "");
                if (lineas.length <= 1) return;

                // Primera línea = encabezados
                const encabezados = lineas[0].split(",").map(h => h.trim());

                const idxArchivo = encabezados.indexOf("archivo");
                const idxTitulo = encabezados.indexOf("titulo");
                const idxDescripcion = encabezados.indexOf("descripcion");

                const contenedor = document.getElementById("lista-articulos");

                for (let i = 1; i < lineas.length; i++) {
                    const cols = lineas[i].split(",").map(c => c.trim());
                    const archivo = cols[idxArchivo];
                    const titulo = cols[idxTitulo];
                    const descripcion = cols[idxDescripcion];

                    const col = document.createElement("div");
                    col.className = "col-12 col-md-6 col-lg-4";

                    col.innerHTML = `
            <div class="card h-100">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">${titulo}</h5>
                <p class="card-text flex-grow-1">${descripcion}</p>
                <a href="${archivo}" target="_blank" class="btn btn-primary mt-2">
                  Abrir PDF
                </a>
              </div>
            </div>
          `;
                    contenedor.appendChild(col);
                }
            })
            .catch(err => {
                console.error("Error al cargar el CSV:", err);
            });

    </script>
</body>


</html>
